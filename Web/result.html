
<html>
  <head>
      <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript">
    
    // Load the Visualization API and the piechart package.
    google.load('visualization', '1', {'packages':['corechart']});
      
    // Set a callback to run when the Google Visualization API is loaded.
    google.setOnLoadCallback(drawChart);
      
    function drawChart() {
      var jsonData = $.ajax({
          url: "http://localhost:8080/getJson",
          dataType:"json",
          async: false
          }).responseText;

        var parsed_json = JSON.parse(jsonData)
        var options = {
          title: 'Malware Classification--->>'
        };

        var data = new google.visualization.DataTable()

        data.addColumn('string', 'Malware Families');
        data.addColumn('number', 'Prediction Percentage');


        data.addRows(9);
        data.setCell(0, 0, 'Ramnit');
        data.setCell(0, 1,parseFloat(parsed_json["Prediction1"]));
        data.setCell(1, 0, 'Lollipop');
        data.setCell(1, 1,parseFloat(parsed_json["Prediction2"]));
        data.setCell(2, 0, 'Kelihos_ver3');
        data.setCell(2, 1,parseFloat(parsed_json["Prediction3"]));
        data.setCell(3, 0, 'Vundo');
        data.setCell(3, 1,parseFloat(parsed_json["Prediction4"]));
        data.setCell(4, 0, 'Simda');
        data.setCell(4, 1,parseFloat(parsed_json["Prediction5"]));
        data.setCell(5, 0, 'Tracur');
        data.setCell(5, 1,parseFloat(parsed_json["Prediction6"]));
        data.setCell(6, 0, 'Kelihos_ver1');
        data.setCell(6, 1,parseFloat(parsed_json["Prediction7"]));
        data.setCell(7, 0, 'Obfuscator.ACY');
        data.setCell(7, 1,parseFloat(parsed_json["Prediction8"]));
        data.setCell(8, 0, 'Gatak');
        data.setCell(8, 1,parseFloat(parsed_json["Prediction9"]));


      // Instantiate and draw our chart, passing in some options.
      var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
      chart.draw(data, {width: 900, height: 500});
    }

    </script>
  </head>

  <body>
    <!--Div that will hold the pie chart-->
    <h1> Malware Families Prediction</h1>
    <div id="chart_div"></div>
  </body>
</html>